# GTFS-RT Archiver Feed Configuration
# Copy this file to feeds.yaml and customize for your deployment.

# Default settings applied to all feeds unless overridden
defaults:
  interval_seconds: 20      # Fetch every 20 seconds
  timeout_seconds: 30       # Request timeout
  retry:
    max_attempts: 3         # Number of retry attempts
    backoff_base: 1.0       # Initial backoff in seconds
    backoff_max: 10.0       # Maximum backoff in seconds

# Feed definitions
feeds:
  # Example: SEPTA (Philadelphia) Vehicle Positions
  - id: septa-vehicle-positions
    name: SEPTA Vehicle Positions
    url: https://www3.septa.org/gtfsrt/septa-pa-us/Vehicle/rtVehiclePosition.pb
    feed_type: vehicle_positions
    agency: septa

  # Example: SEPTA Trip Updates
  - id: septa-trip-updates
    name: SEPTA Trip Updates
    url: https://www3.septa.org/gtfsrt/septa-pa-us/Trip/rtTripUpdate.pb
    feed_type: trip_updates
    agency: septa

  # Example: SEPTA Service Alerts
  - id: septa-service-alerts
    name: SEPTA Service Alerts
    url: https://www3.septa.org/gtfsrt/septa-pa-us/Alert/rtServiceAlert.pb
    feed_type: service_alerts
    agency: septa
    interval_seconds: 60    # Alerts change less frequently

  # Example: Feed with API key authentication
  # - id: mta-subway-vehicles
  #   name: MTA Subway Vehicle Positions
  #   url: https://api-endpoint.mta.info/Dataservice/mtagtfsfeeds/nyct%2Fgtfs
  #   feed_type: vehicle_positions
  #   agency: mta
  #   headers:
  #     x-api-key: "${MTA_API_KEY}"  # Environment variable substitution

  # Example: Feed with query parameter authentication
  # - id: bart-trip-updates
  #   name: BART Trip Updates
  #   url: https://api.bart.gov/gtfsrt/tripupdate.aspx
  #   feed_type: trip_updates
  #   agency: bart
  #   query_params:
  #     key: "${BART_API_KEY}"
  #   interval_seconds: 15  # Override default interval
